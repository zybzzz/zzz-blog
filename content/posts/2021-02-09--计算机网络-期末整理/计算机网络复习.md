---
title: 计算机网络：期末整理2
category: "计算机网络"
cover: 2.jpg
author: YiBo Zhang
---
#  计算机网络





##  导论 物理层



###  几个概念

1. 带宽：信号具有的频带宽度，更高的带宽具有更高的传输数据能力。
2. 吞吐量：一定时间内通过某网络的实际数据量
3. 时延
   1. 发送时延：推出数据的时间
   2. 传播时延：路上的时间
   3. 处理时延：主机或路由器收到分组处理的时间
   4. 排队时延：进入路由器排队的时间



###  物理层的任务

确定与传输媒体接口的有关特性

1. 机械特性：接口硬件的标准化
2. 电气特性：指明的电压范围
3. 功能特性：线路上出现电压的含义
4. 过程特性：顺序问题



###  信噪比 香农定理

信噪比越高，信道的极限传播速率就越高。只要信道的传输率低于极限传输率，就一定存在无差错的传输方式。



###  信道复用

频分复用：将带宽分成几个部分给人用。

时分复用：每个人在一定时间内占有所有的带宽。



##  数据链路层



<img src="../xmindimg/link.png" style="zoom:200%;" />



###  点对点信道

链路：一个结点到相邻结点的物理线路，而中间没有其他任何交换结点。

数据链路：除了物理上的链路之外，还需要协议来控制数据的传输，把协议需要的软件硬件加到链路上，就成为了数据链路。

PPP协议需要解决的问题

1. 封装成帧：怎么封装成数据帧用来传输  传输的长度
2. 差错检验：检验传输过来的东西是对的还是错的
3. 透明传输：传输什么都可以，传输什么东西都不会干扰接收端对开始和结束的判断



PPP协议的应用，接入到ISP



PPP的帧格式

1. 为数据字段加上八字节封装成帧	1字节开始（7E）一字节结束（7E）	中间2字节表示协议 2字节表示差错检验
2. 字节填充 0比特填充 简单理解都是为了开头时候的不重复





###  广播信道

一对多的传输，局域网主要应用的就是广播信道。



####  CSMA/CD协议

CSMA/CD是用来管碰撞的协议，广播信道就意味着有冲突。

CSMA/CD判定冲突的方式是适配器的电平检测，如果电平超过了一定阈值，那么就认为有冲突。因此CSMA/CD实现的是端点检测，即发送的中途超了电平阈值，两个端点是检测不到的，只有在信号到达端点的时候，适配器还是检测到超过阈值才认为发生了冲突。

> 冲突的处理：规定窗口期，窗口期内没有冲突那么就没有冲突
>
> 窗口期：是两倍的单程传播时间，==单程传播时间取局域网内最坏情况，也就是最远的一对发送接收站之间的单程传播时间==，单程传播时间=单程传播距离/传播速度。

> 在以太网中，使用截断二进制指数退避解决冲突之后的重传问题。
>
> 1. 规定以太网争用期为51.2微秒，对于10兆网络，在这个时间内能发送64字节的数据。
> 2. 从整数集合[ 0 , 1 ...... 2的k次方-1] 中随机选取一个数，记为r ，其中 k = min(重传次数 , 10) 。重传的推后时间是r倍的争用期时间。
> 3. 当重传次数超过16次时，丢弃该帧，并向高层报告。
>
>
>
> 以太网规定了传送帧的最小长度，为64KB，传送帧的长度不能比这个还小了。
>
> 太小的帧将会导致什么情况？==将会导致冲突无法检测==
>
> 因此曼彻斯特编码在冲突检测中发挥了重要作用，因为从本质上讲，是曼彻斯特编码制造了传输时的电平。
>
> ![](../xmindimg/minframe.jpg)

>
>
> 规定最小的发送间隔为：9.6微秒
>
> 这个时间用过接收端接受数据、清理缓存等等的操作。
>
>
>
> CSMA/CD下帧的发送过程
>
> 1. 查看信道是不是空闲的
> 2. 信道空闲的话再等一个最小间隔时间（9.6微秒）
> 3. 发送条件充足就发出去
>    1. 没有冲突：发送成功
>    2. 产生冲突：重传





####  局域网的MAC层

MAC地址：48位的MAC地址，前32位由机构统一分配，后16位生产商决定。全球唯一，不具有低于特征。

MAC帧：广播帧目的MAC地址全1。

MAC帧封装：6字节源地址，6字节目的地址，2字节协议，4自己差错检验，实际封装的时候MAC帧的前面还要加上8个字节，用来同步等等。



###  数据链路层的不可靠传输

尽最大的努力传输到达，丢了或者出错都不管，交由上层协议检查，在考虑要不要重传。


